<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction to Rendering · RayTracer</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/raytracer.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">RayTracer</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li class="is-active"><a class="tocitem" href>Introduction to Rendering</a><ul class="internal"><li><a class="tocitem" href="#General-Attributes-of-the-Scene-1"><span>General Attributes of the Scene</span></a></li><li><a class="tocitem" href="#Understanding-the-Light-and-Camera-API-1"><span>Understanding the Light and Camera API</span></a></li><li><a class="tocitem" href="#Rendering-Different-Views-of-the-Teapot-1"><span>Rendering Different Views of the Teapot</span></a></li><li><a class="tocitem" href="#Next-Steps-1"><span>Next Steps</span></a></li></ul></li><li><a class="tocitem" href="../inverse_lighting/">Inverse Lighting</a></li><li><a class="tocitem" href="../optim_compatibility/">Optimizing using Optim.jl</a></li></ul></li><li><span class="tocitem">API Documentation</span><ul><li><a class="tocitem" href="../../api/utilities/">General Utilities</a></li><li><a class="tocitem" href="../../api/differentiation/">Differentiation</a></li><li><a class="tocitem" href="../../api/scene/">Scene Configuration</a></li><li><a class="tocitem" href="../../api/renderers/">Renderers</a></li><li><a class="tocitem" href="../../api/optimization/">Optimization</a></li><li><a class="tocitem" href="../../api/accelerators/">Acceleration Structures</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Getting Started</a></li><li class="is-active"><a href>Introduction to Rendering</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction to Rendering</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/avik-pal/RayTracer.jl/blob/master/docs/src/getting_started/teapot_rendering.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction-to-rendering-using-RayTracer.jl-1"><a class="docs-heading-anchor" href="#Introduction-to-rendering-using-RayTracer.jl-1">Introduction to rendering using RayTracer.jl</a><a class="docs-heading-anchor-permalink" href="#Introduction-to-rendering-using-RayTracer.jl-1" title="Permalink"></a></h1><p>In this example we will render the famous UTAH Teapot model. We will go through the entire rendering API. We will load an obj file for the scene. This needs to be downloaded manually.</p><p>Run this code in your terminal to get the file: <code>wget https://raw.githubusercontent.com/McNopper/OpenGL/master/Binaries/teapot.obj</code></p><p>If you are using REPL mode you need the <code>ImageView.jl</code> package</p><pre><code class="language-julia">using RayTracer, Images #, ImageView</code></pre><h2 id="General-Attributes-of-the-Scene-1"><a class="docs-heading-anchor" href="#General-Attributes-of-the-Scene-1">General Attributes of the Scene</a><a class="docs-heading-anchor-permalink" href="#General-Attributes-of-the-Scene-1" title="Permalink"></a></h2><p>Specify the dimensions of the image we want to generate. <code>screen_size</code> is never passed into the RayTracer directly so it need not be a named tuple.</p><pre><code class="language-julia">screen_size = (w = 256, h = 256)</code></pre><p>Load the teapot object from an <code>obj</code> file. We can also specify the scene using primitive objects directly but that becomes a bit involved when there are complicated objects in the scene.</p><pre><code class="language-julia">scene = load_obj(&quot;teapot.obj&quot;)</code></pre><p>We shall define a convenience function for rendering and saving the images. For understanding the parameters passed to the individual functions look into the documentations of <a href="../../api/scene/#RayTracer.get_primary_rays-Tuple{Camera}"><code>get_primary_rays</code></a>, <a href="../../api/renderers/#RayTracer.raytrace-Tuple{}"><code>raytrace</code></a> and <a href="../../api/utilities/#RayTracer.get_image-Union{Tuple{T}, Tuple{Vec3{T},Any,Any}} where T"><code>get_image</code></a></p><pre><code class="language-julia">function generate_render_and_save(cam, light, filename)
    #src # Get the primary rays for the camera
    origin, direction = get_primary_rays(cam)

    #src # Render the scene
    color = raytrace(origin, direction, scene, light, origin, 2)

    #src # This will reshape `color` into the proper dimensions and return
    #src # an RGB image
    img = get_image(color, screen_size...)

    #src # Display the image
    #src # For REPL mode change this to `imshow(img)`
    display(img)

    #src # Save the generated image
    save(filename, img)
end</code></pre><h2 id="Understanding-the-Light-and-Camera-API-1"><a class="docs-heading-anchor" href="#Understanding-the-Light-and-Camera-API-1">Understanding the Light and Camera API</a><a class="docs-heading-anchor-permalink" href="#Understanding-the-Light-and-Camera-API-1" title="Permalink"></a></h2><h3 id="DistantLight-1"><a class="docs-heading-anchor" href="#DistantLight-1">DistantLight</a><a class="docs-heading-anchor-permalink" href="#DistantLight-1" title="Permalink"></a></h3><p>In this example we will be using the <a href="../../api/scene/#RayTracer.DistantLight"><code>DistantLight</code></a>. This king of lighting is useful when we want to render a scene in which all parts of the scene receive the same intensity of light.</p><p>For the DistantLight we need to provide three attributes:</p><ul><li>Color     - Color of the Light Rays. Must be a Vec3 Object</li><li>Intensity - Intensity of the Light</li><li>Direction - The direction of light rays. Again this needs to be a Vec3 Object</li></ul><h3 id="Camera-1"><a class="docs-heading-anchor" href="#Camera-1">Camera</a><a class="docs-heading-anchor-permalink" href="#Camera-1" title="Permalink"></a></h3><p>We use a perspective view <a href="../../api/scene/#RayTracer.Camera"><code>Camera</code></a> Model in RayTracer. Let us look into the arguments we need to pass into the Camera constructor.</p><ul><li>LookFrom - The position of the Camera</li><li>LookAt   - The point in 3D space where the Camera is pointing</li><li>vup      - The UP vector of the world (typically Vec3(0.0, 1.0, 0.0), i.e. the y-axis)</li><li>vfov     - Field of View of the Camera</li><li>Focus    - The focal length of the Camera</li><li>Width    - Width of the output image</li><li>Height   - Height of the output image</li></ul><h2 id="Rendering-Different-Views-of-the-Teapot-1"><a class="docs-heading-anchor" href="#Rendering-Different-Views-of-the-Teapot-1">Rendering Different Views of the Teapot</a><a class="docs-heading-anchor-permalink" href="#Rendering-Different-Views-of-the-Teapot-1" title="Permalink"></a></h2><p>Now that we know what each argument means let us render the teapot</p><h3 id="TOP-VIEW-Render-1"><a class="docs-heading-anchor" href="#TOP-VIEW-Render-1">TOP VIEW Render</a><a class="docs-heading-anchor-permalink" href="#TOP-VIEW-Render-1" title="Permalink"></a></h3><pre><code class="language-julia">light = DistantLight(
    Vec3(1.0f0),
    100.0f0,
    Vec3(0.0f0, 1.0f0, 0.0f0)
)

cam = Camera(
    Vec3(1.0f0, 10.0f0, -1.0f0),
    Vec3(0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    45.0f0,
    1.0f0,
    screen_size...
)

generate_render_and_save(cam, light, &quot;teapot_top.jpg&quot;)</code></pre><p align="center">
    <img width=256 height=256 src="../../assets/teapot_top.jpg">
</p><h3 id="SIDE-VIEW-Render-1"><a class="docs-heading-anchor" href="#SIDE-VIEW-Render-1">SIDE VIEW Render</a><a class="docs-heading-anchor-permalink" href="#SIDE-VIEW-Render-1" title="Permalink"></a></h3><pre><code class="language-julia">light = DistantLight(
    Vec3(1.0f0),
    100.0f0,
    Vec3(1.0f0, 1.0f0, -1.0f0)
)

cam = Camera(
    Vec3(1.0f0, 2.0f0, -10.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    45.0f0,
    1.0f0,
    screen_size...
)

generate_render_and_save(cam, light, &quot;teapot_side.jpg&quot;)</code></pre><p align="center">
    <img width=256 height=256 src="../../assets/teapot_side.jpg">
</p><h3 id="FRONT-VIEW-Render-1"><a class="docs-heading-anchor" href="#FRONT-VIEW-Render-1">FRONT VIEW Render</a><a class="docs-heading-anchor-permalink" href="#FRONT-VIEW-Render-1" title="Permalink"></a></h3><pre><code class="language-julia">light = DistantLight(
    Vec3(1.0f0),
    100.0f0,
    Vec3(1.0f0, 1.0f0, 0.0f0)
)

cam = Camera(
    Vec3(10.0f0, 2.0f0, 0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    45.0f0,
    1.0f0,
    screen_size...
)

generate_render_and_save(cam, light, &quot;teapot_front.jpg&quot;)</code></pre><p align="center">
    <img width=256 height=256 src="../../assets/teapot_front.jpg">
</p><h2 id="Next-Steps-1"><a class="docs-heading-anchor" href="#Next-Steps-1">Next Steps</a><a class="docs-heading-anchor-permalink" href="#Next-Steps-1" title="Permalink"></a></h2><ul><li>Try Rendering complex environments with RayTracer</li><li>Look into the other examples in <code>examples/</code></li><li>Read about inverse rendering and see the examples on that</li></ul><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../inverse_lighting/">Inverse Lighting »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 14 April 2020 23:46">Tuesday 14 April 2020</span>. Using Julia version 1.4.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
